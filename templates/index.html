<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monkey Love Chatbot</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap');

        /* Initial body style (black background to avoid flashing monkey love) */
        body {
            font-family: 'Playfair Display', serif;
            margin: 0;
            padding: 0;
            color: #fff;
            text-align: center;
            background-color: black; /* Default black background */
        }

        #intro-screen, #loading-screen, #chat-screen {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        #intro-screen {
            display: flex;
            background-color: black;
        }

        #intro-title {
            font-size: 28px;
            margin-bottom: 20px;
        }

        #disclaimer-box {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            max-width: 600px;
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            color: #ff6b6b;
            text-align: left;
            font-size: 16px;
            line-height: 1.6;
        }

        #intro-button {
            padding: 10px 20px;
            background-color: #ff6b6b;
            border: none;
            color: #fff;
            font-size: 18px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        #intro-button:hover {
            background-color: #ff5252;
        }

        /* Loading Screen with Space Background */
        #loading-screen {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            background-image: url('{{ url_for("static", filename="images/space_ocean.jpeg") }}');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
        }

        #loading-title-box {
            background: rgba(0, 0, 0, 0.6); /* Transparent dark background */
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.5); /* Slightly grayed border */
            max-width: 600px;
            text-align: center;
            margin-bottom: 20px;
        }

        #loading-title {
            font-size: 22px;
            line-height: 1.5; /* Line height for three lines */
            margin: 0;
        }

        /* Progress Bar */
        #progress-container {
            width: 80%;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 20px;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            background-color: yellow;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* Chat Screen with Monkey Love Background */
        #chat-screen {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            background-image: url('{{ url_for("static", filename="images/monkey_background.jpeg") }}');
            background-size: cover;
            background-position: center;
            color: white;
        }

        #main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            height: 100vh;
        }

        #chat-container {
            background: rgba(0, 0, 0, 0.9); /* Black background for the textbox */
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            width: 450px;
        }

        #chat-title {
            font-size: 24px;
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        #chat-log {
            border: 2px solid #ff6b6b;
            padding: 10px;
            width: 100%;
            height: 300px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.9); /* White background for messages */
            color: #000;
            margin-bottom: 10px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            max-width: 70%;
            padding: 10px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.5;
        }

        .user-message {
            background-color: #d1e7ff;
            align-self: flex-end;
            color: #000;
        }

        .bot-message {
            background-color: #f1f1f1;
            align-self: flex-start;
            color: #000;
        }

        #user-input {
            width: calc(100% - 110px);
            padding: 10px;
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            font-size: 14px;
            margin-right: 10px;
            outline: none;
        }

        button {
            padding: 10px 15px;
            border: none;
            background: #ff6b6b;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            background: #ff5252;
        }
    </style>
</head>
<body>
    <!-- Intro Screen -->
    <div id="intro-screen">
        <div>
            <h1 id="intro-title">Are you ready to interact with the Clown Rock Goddess?</h1>
            <div id="disclaimer-box">
                Please chat with the Clown Rock Goddess at your own risk. The Clown Rock Goddess is a notorious sorceress that is proven to prey on innocent brains and brainwash them into aiding and abetting serious crimes, such as murder. She is known by various aliases, such as Varalika Varanasi, Vivi, Monkey 1, and Speedster. She is currently wanted for sorcery in all 195 countries of Planet Earth and countless more across the universe (Click below to see her wanted poster!). By clicking Kay Kay below, you consent to being hypnotized by the magical powers of the Clown Rock Goddess and are hereby assuming all liability and responsibility for any physical and mental perils you may be exposed to for the duration of this chat session.
            </div>
            <button id="intro-button" onclick="startLoading()">Kay Kay</button>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div id="loading-title-box">
            <h1 id="loading-title">
                Signal going through the deepest oceans<br />
                and through the seabed<br />
                to connect with a satellite in space
            </h1>
        </div>
        <div id="progress-container">
            <div id="progress-bar"></div>
        </div>
    </div>

    <!-- Chat Screen -->
    <div id="chat-screen">
        <div id="main-container">
            <div id="chat-container">
                <h2 id="chat-title">Chat with the Clown Rock Goddess</h2>
                <div id="chat-log"></div>
                <input type="text" id="user-input" placeholder="Type your message">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        function startLoading() {
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'flex';

            const progressBar = document.getElementById("progress-bar");
            let progress = 0;

            const interval = setInterval(() => {
                progress += 10; // Increase progress
                progressBar.style.width = progress + "%";

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loading-screen').style.display = 'none';
                        document.getElementById('chat-screen').style.display = 'flex';
                    }, 500);
                }
            }, 1000); // Update every second
        }
    </script>
</body>
</html>
